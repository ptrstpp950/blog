<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=1024" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <title>IS DEVOPS IN BANKING POSSIBLE</title>

  <meta name="description" content="impress.js is a presentation tool based on the power of CSS3 transforms and transitions in modern browsers and inspired by the idea behind prezi.com."
  />

  <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic"
    rel="stylesheet" />
   <link rel="stylesheet" href="css/site.css">
   <link rel="stylesheet" href="css/impressConsole.css">
  <link rel="shortcut icon" href="favicon.png" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>

<body>

  <div id="impress" class="steps">
    <div id="title" class="step title slide"  data-x="0" data-y="0" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h1>Is DevOps in banking possible?</h1>
<p>by Piotr Stapp</p>
<aside class="notes">
    Hi, my name is Piotr Stapp. For many years, I introduced myself as a developer.<br/>
    But this statement is false. <br/>
    
    I'm the problem solver. I just solve problems, using the computer.
    
</aside></div><div id="about-me" class="step"  data-x="0" data-y="1000" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>Piotr Stapp</h2>
<ul>
    <li>Blog: <a href="http://stapp.space/">http://stapp.space</a></li>
    <li>Twitter: <a href="https://twitter.com/ptrstpp950">@ptrstpp950</a></li>
    <li>Work at <img src="./img/mbank-logo-ind.png"/></li>
</ul>
<aside class="notes">
    Hi, my name is Piotr Stapp. For many years, I introduced myself as a developer.<br/> 
    But this statement is false. <br/>
    I'm the problem solver. I just solve problems, using the computer.
    I have blog, twitter and more.
</aside></div><div id="noooooo" class="step title"  data-x="0" data-y="1000" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>Is DevOps in banking possible?</h2>
<img width="600px" src="./img/no.gif" />
<aside class="notes">
    <blockquote>
        <p>DevOps was originally about WebOps at Internet companies working in the Cloud and a handful of Lean Startups in Silicon
            Valley. It started at these companies because they had to move quickly, so they found new, simple, and collaborative
            ways of working that allowed them to innovate much faster and to scale much more effectively than organizations
            had done before. </p>


        <cite><a href="https://www.oreilly.com/ideas/devops-for-finance">DevOps for Finance - Jim Bird</a></cite>
    </blockquote>
    <p>Why not?
        <ul>
            <li>Because it is complicated</li>
            <li>Because of law regulations</li>
            <li>When Facebook is down, people tweet about it, but when the bank is down people take money somewhere else.
            </li>
        </ul>
    </p>
    <p>Let me tell you a history about "what can happen when the bank is down". Imagine that you invite parents of your bride-to-be
        to the official dinner in the very expensive restaurant. To show off, how good you are. After the dinner, you would
        like to pay, but your bank is down. How do you feel?. This history is true and was published on social media. It
        happen not from our fault, but it happened. We lost our client. Such situation would happen on facebook or eBay because
        banking is much more serious stuff</p>
    <p>
        Now you will say no way. Facebook is different. On January a lot of services published information about
        <br/><b>"Facebook made its Android app crash to test your loyalty".</b>
        <br/>The conclusion was amaizing: "People never stopped coming back"
    </p>
    <p>But what am I doing here if the answer is nooooooo? next slide</p>
</aside></div><div id="but" class="step title"  data-x="0" data-y="2000" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>But ...</h2>
<p>
    <ul>
        <li>ideas - can be adopted</li>
        <li>practices - can be reused</li>
        <li>tools - are ready</li>
    </ul>
</p>
<aside class="notes">
    <p>But as the velocity of change in business continues to increase. Enterprise [...] must also move to deliver content and
        features to customers just as quickly.
    </p>
    <p>These large organizations have started to adopt (and, along the way, adapt) DevOps ideas, practices, and tools.</p>

</aside></div><div id="it-vs-sport" class="step"  data-x="0" data-y="2000" data-z="-1000" data-scale="1" data-rotate-x="0" data-rotate-y="360" data-rotate-z="0"><h2>IT vs Sport</h2>

<ol>
    <li>Tennis, swimming, runners, ... - we aren't alone</li>
    <li>Football - no many goals in the match</li>
    <li>Handball - who is "goalkeeper" in IT?</li>
</ol>


<aside class="notes">
    <p>
        I was thinking about sports similar to deploying IT stuff. 
        I had to cross-out swimming, tennis, athletics, and more - because players are alone. 
        
        Andre Aggasi one day said that tennis players are the loneliness guys in the world. In IT, we aren't alone. 
        Moreover  have friends and foes.
    </p>
    <p>
        So I needed a team sport. 
        Football is popular but usually, there are no many goals in a match. In agile "goals" should be frequent.<br/> 
        When I think about handball, one of most important player is "goalkeeper". In IT, there shouldn't anybody like him.<br/>
        Baseball looks good but seriously we don't try to hit our software as far as possible.<br/>
        <br/>-----<br/>
        What had left?
</aside></div><div id="basketball" class="step"  data-x="0" data-y="2000" data-z="-1500" data-scale="1" data-rotate-x="360" data-rotate-y="0" data-rotate-z="0"><h2>Basketball</h2>

<q cite="https://en.wikipedia.org/wiki/Basketball">
Basketball is a sport [...]. 
The objective is to shoot a ball through a hoop 18 inches (46 cm) in diameter and 10 feet (3.048 m)
 high mounted to a backboard at each end.</q>
<br/>
<img src="./img/jordan.jpg" />

<aside class="notes">
    In the beginning a small question: Who is a basketball lover? - Ok, thank you
    <br/> Who know what basketball is? And know this guy on the image? - Ok, thank you
    <br/> Is anybody who didn't raise a hand? - Thanks God. I don't have to explain what I want to talk about<br/>
    <br/>----<br/>
    
        
        
</aside></div><div id="mainrule" class="step"  data-x="0" data-y="3000" data-z="-1500" data-scale="1" data-rotate-x="360" data-rotate-y="0" data-rotate-z="0"><h2>Main rule</h2>

<iframe width="640" height="480" src="https://www.youtube.com/embed/hEQGQ3k3SGo" frameborder="0" allowfullscreen></iframe>

<div class="notes">
    We are wathing Top 10 Long Distance Shots of 2011-2012!<br/>
    ----------<br/>
    Why? Because DevOps is like a Basketball. <br/>
    We want to take a ball and put into the basket. <br/>
    The objective is to install software on production :)<br/>
    There is many ways to achive that. For example throwing from the long distance. Like guys above. Just throw, cross your fingers and you are ready :)
</div></div><div id="logging-01-intro" class="step"  data-x="0" data-y="3000" data-z="-1500" data-scale="1" data-rotate-x="360" data-rotate-y="90" data-rotate-z="0"><h2>Quater 1: Statistics</h2>

<img class="stretch" src="./img/gortat-stats.png" />
<p><a class="buttonSkip" href="#config-01-intro">skip quater</a></p>

<div class="notes">
    <p>In every professional sport, we can browse stats. To view the history of a player, team or even a coach.</p>
    <p> To ask questions like:
        <ul>
            <li>Do he or she perform well?</li>
            <li>Why is the team A better?</li>
            <li>Which players have problems? And much more.</li>
            <li>Even maybe why Athletico win with Barcelona in Champions League?</li>
        </ul>
        In IT system situation is similar. But instead of statistics we have logs.</p>
</div>

</div><div id="logging-02-why" class="step"  data-x="-1000" data-y="3000" data-z="-1500" data-scale="4" data-rotate-x="360" data-rotate-y="90" data-rotate-z="0"><h2>Why do I need log aggregator?</h2>

<ol>
    <li>Easy to browse log - there are in one place</li>
    <li>Easy to correlate - there are in one place</li>
    <li>Easy to browse history - it is in one place</li>
    <li>Make alerts - if platform supports</li>
</ol>

<div class="notes">
    <ul>
        <li>Logs are a critical part of any system, they give you insight into what a system is doing as well what happened</li>
        <li>Virtually every process running on a system generates logs in some form or another. </li>
        <li>Usually, these logs are written to files on local disks. </li>
        <li>When your system grows to multiple hosts, managing the logs and accessing them can get complicated.</li>
        <li>Searching for a particular error across hundreds of log files on hundreds of servers is difficult without good tools.</li>
        <li>A common approach to this problem is to setup a centralized logging solution so that multiple logs can be aggregated in a central location.</li>
    </ul>
</div></div><div id="logging-03-elkVSsplunk" class="step"  data-x="-10000" data-y="3000" data-z="-1500" data-scale="10" data-rotate-x="360" data-rotate-y="90" data-rotate-z="0"><h2>Splunk VS ELK</h2>
<div>Most popular logs aggregators in onsite model are:</div>
<ul>
    <li>ELK - Elastic Search with Kibana</li>
    <li>Splunk</li>
    <li>Systems based on HDFS and Kafka </li>
</ul>


<div class="notes">
    Splunk - It's a very powerful, mainly on-premise solution. More or less very expensive :) <br/>
    If you only want a "supergrep" command it is probably a wrong choice 
    <br/><br/>
    ELK - License fees not incurred, but you'll end up spending $ on building various features
    because ELK doesn't have them. It is a "supergrep". Rest you will have to do by your own
    <br/><br/>
    About the rest - I don't know. I never used them.
</div>

</div><div id="logging-04-cloud-options" class="step"  data-x="-10000" data-y="3000" data-z="-1500" data-scale="15" data-rotate-x="360" data-rotate-y="90" data-rotate-z="0"><h2>Logging SaaS</h2> 
Top 10 from <br/><a href="http://stackshare.io/log-management">http://stackshare.io/log-management</a>
<ul class="longlist">
    <li>Papertail - 10 stars, 221 Stacks</li>
    <li>Logstash - 13 stars, 240 stacks</li>
    <li>Logentries - 9 stars, 157 stacks</li>
    <li>Loggy - 3 stars, 114 stacks</li>
    <li>Graylog - 26 stars, 23 stacks</li>
    <li>Sumo logic - 10 stars, 30 stacks</li>
    <li>Splunk Cloud - 2 stars, 10 stacks</li>
    <li>AWS CloudTrail - 0 stars, 19 stacks</li>
    <li>Log DNA - 17 stars, 5 stacks</li>
    <li>Fluentd- 3 stars, 7 stacks</li>
    <li>Scalyr- 2 stars, 5 stacks</li>
    <li>Logsene- 0 stars, 2 stacks</li>
</ul>

<div class="notes">
    If you could use it, you will save probably time and money. There are a lot of them.<br/>
Check your needs and decide to use one. Because it is a SaaS it is easy to change to better one :)
</div></div><div id="loggin-05-elkVSsplunk-demo" class="step"  data-x="-11000" data-y="3000" data-z="-1500" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>Log aggregators</h2>
<div>Demo time</div>

<div class="notes">
</div>

</div><div id="loggin-06-more" class="step"  data-x="-11000" data-y="3000" data-z="-1500" data-scale="15" data-rotate-x="360" data-rotate-y="90" data-rotate-z="0"><h2>Something more?</h2>
<ul>
    <li>Marketing queries</li>
    <li>Alerts</li>
    <li>Data analytics</li>
</ul>

<div class="notes">
    <ul>
        <li>Business queries - for example, I created dashboard with information how many PB users started new application in time period</li>
        <li>Alerts - I set up an everyday query about interesting events. They can be real-time</li>
        <li>Data analytics - how your system performs in comparison to last year/month/week</li>
    </ul>
</div></div><div id="config-01-intro" class="step"  data-x="0" data-y="0" data-z="100" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>Quater 2: Server&amp;Release automation</h2>
<p>Lots of services + frequent deployment = a global headache</p>
<p><a class="buttonSkip" href="#db-01-intro">skip quater</a></p>
<aside class="notes">
    <b>CONFIG MANAGMENT - INTRO</b><br/>
    DevOps needs a powerful automation platform that transforms complex infrastructure into code, 
    bringing your servers and services to life.
    <br/>Whether you’re operating in the cloud, on-premises, or a hybrid, we need a "tool". 
    <br/>It should automate how applications are configured, deployed, and managed across your network, no matter its size.
</aside>
</div><div id="config-02-do-i-need" class="step"  data-x="0" data-y="0" data-z="100" data-scale="1" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0"><h2>Do I need a deployment tool?</h2>
<p><b>"It depends"</b> is the best answer</p>
<p>Example simple tools:</p>
<ul>
    <li>Azure Web Sites - automatically deploy from git</li>
    <li>XCOPY - ugly but enough in simple cases</li>
    <li>Setup project - great for Windows app</li>
    <li>"Store" app - separate process</li>
</ul>
<aside class="notes">
    Above examples can work great for simple apps or even big monolith. 
    If everything is in one solution there is a probably big chance that you don't need special tools
    
    Moreover if you don't feel time waste or pain in the ass, you shouldn't change your process.
    You ask yourself why? because you won't feel any difference :)
</aside>
</div><div id="config-03-pain-with-config" class="step"  data-x="0" data-y="0" data-z="100" data-scale="1" data-rotate-x="180" data-rotate-y="0" data-rotate-z="0"><h2>Config hell</h2>
<p>How to manage configuration for 3+ different environments:</p>
<ul>
    <li>Manually create config</li>
    <li>Use App.Release.config (with SlowCheetah)</li>
    <li>Put in source control MyApp.ENV.config</li>
    <li>No config differences - changes in hosts file</li>
</ul>
<aside class="notes">
    <p>The first symptom of complicated deployment is <b>Config hell</b></p>
    <p>
        Let's stop with the number "3". Why is it 3+? Because simplest architecture assumes 3: dev, test, prem.<br/>
        Simple next step is "prem-copy". Then we add "performance env", "uat env", "feature branch env". 
        And we end with 10, 20 or even 100
    </p>
    <ul>
        <li>
            Manual steps are bad. Always bad. After 100 reapeats you will kill someone:D
        </li>
        <li>
            Next try - config transormation are the easy way to manage simple config definitions.
            For different files than Web.Config we can use SlowCheetah plugin.
        </li>
        <li>
            Files like MyApp.Enviroment.config in git are so difficult to manage. 
            When we do any change we have to remember about all files. It is too easy to make an error.
            But this is a very popular solution.
            One very big disadvantage for above solutions: every developer can access and change all config files.
        </li>
        <li>
            That is a really cool approach. Imagine that you hardcode all hosts names like "myAppApplicationServer"
            and uses a certificate for connection called "mySuperSecretCertificate".
            On diffrent enviroments, you just switch contents of DNS or cerificate store or anything you need.
            <br/>
            The only problems are with external secret keys like facebook api secret key. But you can solve it :) 
            I want to try this approach one day. It sounds really cool. 
        </li>
        
    </ul>
</aside>
</div><div id="config-04-tokens" class="step"  data-x="0" data-y="0" data-z="100" data-scale="1" data-rotate-x="270" data-rotate-y="0" data-rotate-z="0"><h2>Tokens</h2>
<p>One more approach</p>
<code class="tokensCode">
<pre style='color:#000000;background:#ffffff;'><span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>add</span> <span style='color:#274796; '>name</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>ContractX</span><span style='color:#800000; '>"</span> <span style='color:#274796; '>path</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Something/ABC</span><span style='color:#800000; '>"</span> <span style='color:#274796; '>server</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>${AppsrvName}</span><span style='color:#800000; '>"</span> 
     <span style='color:#274796; '>port</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>${Core_port}</span><span style='color:#800000; '>"</span> <span style='color:#274796; '>binding</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>TCP</span><span style='color:#800000; '>"</span> 
     <span style='color:#274796; '>serverThumbPrint</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>${AppSrvServerThumbPrint}</span><span style='color:#800000; '>"</span> 
     <span style='color:#274796; '>clientThumbPrint</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>${AppSrvClientThumbPrint}</span><span style='color:#800000; '>"</span><span style='color:#a65700; '>/></span>
</pre>
</code>
<p><b>+</b></p>
<code class="tokensCode">
<pre style='color:#000000;background:#ffffff;'><span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>AppsrvName</span><span style='color:#a65700; '>></span>XYZ.mbank.pl<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>AppsrvName</span><span style='color:#a65700; '>></span>
<span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>Core_port</span><span style='color:#a65700; '>></span>8888<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>Core_port</span><span style='color:#a65700; '>></span>
<span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>AppSrvServerThumbPrint</span><span style='color:#a65700; '>></span>29[...]76<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>AppSrvServerThumbPrint</span><span style='color:#a65700; '>></span>
<span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>AppSrvClientThumbPrint</span><span style='color:#a65700; '>></span>98[...]84<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>AppSrvClientThumbPrint</span><span style='color:#a65700; '>></span>
</pre>
</code>
<p><b>=</b></p>
<code class="tokensCode">
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>&lt;</span>add name<span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>ContractX</span><span style='color:#800000; '>"</span> path<span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Something/ABC</span><span style='color:#800000; '>"</span> server<span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>XYZ.mbank.pl</span><span style='color:#800000; '>"</span> 
     port<span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>8888</span><span style='color:#800000; '>"</span> binding<span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>TCP</span><span style='color:#800000; '>"</span> 
     serverThumbPrint<span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>29[...]76</span><span style='color:#800000; '>"</span> 
     clientThumbPrint<span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>98[...]84</span><span style='color:#800000; '>"</span><span style='color:#808030; '>/</span><span style='color:#808030; '>></span>
</pre>
</code>
<aside class="notes">
    My favorite approach. In my company, we are using it almost everywhere. 
    Instead of having multiple config files, we have one. But with "gaps" called tokes.
    They have specific notation. In our case, it is the $ sign and mustache brackets.
    <br/>
    This approach is used in mamy popular DevOps tools. 
    For example Octopus Deploy and Chef. Of course, notaion is different.
    <br/> 
    Every instalation just fill tokens and configs are almost same on every enviroment.
    <br/>---<br/>
    Now let's talk about the funny error from migration into .NET 4.6.1. We had a token with SQL server intance name.
    On every enviroments we had a named server like "SqlServerHost", but on production, we had IP adress.
    Fortunately, Jacek (the administaror) checked fast what is wrong on StackOverflow and fix the token.
    That is a great example of DevOps culture and responsible on both sides. 
</aside></div><div id="config-05-lesson-learned" class="step"  data-x="0" data-y="0" data-z="100" data-scale="1" data-rotate-x="360" data-rotate-y="0" data-rotate-z="0"><h2>Lesson learned</h2>
<p>Config managment can be easy. Just try!</p></div><div id="db-01-intro" class="step"  data-x="-100" data-y="0" data-z="6000" data-scale="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="-90"><h2>Quater 3: Version control</h2>

<p><a class="buttonSkip" href="#deploy-01-intro">skip quater</a></p>
</div><div id="db-01-intro-extended" class="step"  data-x="-100" data-y="0" data-z="4000" data-scale="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>Why should I use version control?</h2>
<blockquote cite="http://stackoverflow.com/questions/1408450/why-should-i-use-version-control">
    <ul>
        <li>Lost code or had a backup that was too old?</li>
        <li>Had to maintain multiple versions of a product?</li>
        <li>Wanted to see the diff between versions?</li>
        <li>Wanted to submit a change to someone else's code?</li>
        <li>Wanted to share your code?</li>
        <li>[...]</li>
    </ul>
</blockquote>
<aside class="notes">
     <b>DB - INTRO</b><br/>
     Small survey: Who uses ANY version control on source code and thinks it is imporant? 
     Git, SVN, CVS, Microsoft stuff?
     
     "Why should I use version control?" is quite a popular question on StackOverflow. 
     It has 30 thousand views. Above quote is a part of the best answer. 
     For all you who doesn't raise your hand (if there is anybody here) - please answer above questions for yourself.
     And please start using any version control system 
    
    
</aside></div><div id="db-02-db-vcs" class="step"  data-x="-100" data-y="0" data-z="2000" data-scale="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90"><h2>DB with VCS?</h2>
<p>
    In most cases all questions from previous stuff apply to databases.<br/>
    But a lot of SQL code is not (full) in VCS. 
</p>
<aside class="notes">
    SQL code is code. But we don't treat it as a code. 
    Of course, some frameworks like EnityFramework Code First can manage DB version for us.
    But in big companies usually, DBA wants to install SQL stuff manually. Because DBA doesn't trust developers
</aside></div><div id="db-03-db-vcs-tools" class="step"  data-x="-100" data-y="0" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="180"><h2>DB with VCS - tools</h2>
<p>
    A few examples:
    <ul>
        <li>VS database project</li>
        <li>Redgate stuff</li>
        <li>Fluent or EF migrations</li>
        <li>DbUp - simple great #;OSS stuff</li>
        <li>Home-made tool - e.g:
            <br/>Dacpac Data Migrations
            <br/>by Maciej Warszawski
            <a href="https://github.com/maciejw/dacpac-data-migrations">https://github.com/maciejw/dacpac-data-migrations</a></li>
    </ul> 
</p>
<p></p>
<aside class="notes">
    The tools that belong to the same class retain the same principles and ideas. 
    If you are familiar with one of such tool, you will find it pretty easy to learn how to work with another one. 
    Nevertheless, the functionality behind them might differ a lot, 
    so it’s important to carefully choose one that fulfills your project’s needs the most.
    <br/>----<br/>
    A small funny history from my life. In mBank one of the databases is an audit one. It is backuped every day.
    I want to change backup procedure to make another copy. 
    It is completly not important why here so I will ommit this part.
    <br/>----<br/>
    The orginal procedure wast commited as simple SQL file in the repository with all DB structure. 
    If something had changed in the structure we send all SQL files. 
    We can just drop and create a new DB because it was audit stuff, backuped somewhere.
    <br/>----<br/>
    I decided to change step number 3 out of 5. But to be sure I send the question to DBA with changes. 
    Now I would like You to do a small survey:
</aside></div><div id="db-04-db-survey" class="step"  data-x="-100" data-y="0" data-z="-2000" data-scale="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="270"><h2>DBA survey</h2>
<p>Question: how DBA answer to changes in the third step:</p>
<ul>
    <li>Sure it looks ok</li>
    <li>Sure here are a small fix - this way it will work better</li>
    <li>You are stupid, get out (in polite words)</li>
    <li>The third step is commented out on production</li>
</ul>

<aside class="notes">
    The last one is the correct one. Almost every big release we send a "correct" procedure. 
    But they comment out the third step, changes 2 others. What the hell is wrong here?
    For more than few YEARS we deploy our SQL script, they changed it and apply it on production.
    <br/>
    <b>WTF you will say?</b>
    <br/>But one week later I told this story to my friend. He sums up it with: It is normal with DBAs.
    Whats going on?
    
</aside></div><div id="05-db-lesson-learned" class="step"  data-x="-100" data-y="0" data-z="-4000" data-scale="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="360"><h2>Lesson learned</h2>
<p>No matter how:
    <ul>
        <li>good tools you have</li>
        <li>you deploy stuff</li>
        <li>release changes</li>
    </ul>
    remember: <b>DevOps is about people and trust</b>
</p></div><div id="deploy-01-intro" class="step"  data-x="12000" data-y="0" data-z="300" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>Quater 4: Deploy</h2>
<img src="./img/basketball-teamwork.gif" width="900px"/>
<p><a class="buttonSkip" href="#servicediscovery-01-intro">skip quater</a></p>
<aside class="notes">
    <b>DEPLOY - INTRO</b>
    It is difficult to put the ball into the basket. Also, it is difficult to install software on production.<br/>
    Especially if it is done rarely.<br/>
    
    As I remember the old days in mBank we deployed stuff few times a day into test enviroment.<br/> 
    But the big release was like one in 5 months. The fun fact: we aloved hotfixes and in 5 monthes period we had more than 60.<br/> 
    It means that we installed software evey second working day :)
</aside></div><div id="deploy-02-tools" class="step"  data-x="12000" data-y="0" data-z="300" data-scale="1" data-rotate-x="0" data-rotate-y="90" data-rotate-z="0"><h2>How to deploy? - tools</h2>
<ul>
    <li>Custom stuff (e.g. Jenkis+PowerShell)</li>
    <li>Chef / Puppet / Ansible</li>
    <li>OctopusDeploy</li>
    <li>Other</li>
</ul>
<aside class="notes">
    <p>Why custom stuff?</p>
    <ul>
        <li>You already have it :)</li>
        <li>You have something strange/differenent, so you will have to code it anyway</li>
        <li>You like to create your own:)</li>
    </ul>
    <p>Why do I put Chef/Puppet/Ansible in one line and Octopus in other></p>
    <blockquote>
        <p>Octopus and Chef/Puppet/Ansible are different. In fact, I don't think there's any reason to choose.</p>
        <p>Puppet and Chef are configuration management tools. They work by describing the state that a system should be in,
            and they take steps to ensure systems are in that state. </p>
        <p>For example, imagine you were managing 30 web servers. Rather than using remote desktop to configure them all, installing
            Windows components, enabling features, and so on, you could use Puppet or Chef to specify: </p>
        <ul>
            <li>All web servers should have IIS configured with the Windows Authentication module enabled</li>
            <li>MSMQ should be installed and running</li>
            <li>A folder at <code>C:\Logs</code> should exist and be writable by a given user account</li>
        </ul>
        <cite>https://octopus.com/blog/octopus-vs-puppet-chef</cite>
    </blockquote>
    
</aside></div><div id="deploy-03-motetools" class="step"  data-x="12000" data-y="0" data-z="300" data-scale="1" data-rotate-x="0" data-rotate-y="180" data-rotate-z="0"><h2>More tools</h2>
<p style="text-align: center;">Versus</p>
<div style="float: left;text-align: center;margin: 0 auto;width: 100%;">
    <img style="max-width:49%; width:49%" src="./img/throw-like-a-pro.gif" />
    <img style="max-width:49%; width:49%" src="./img/throw-fail.gif" />
</div>

<aside class="notes">
    <p>The main differences between above throws are moneny and tools.</p>
    <p>They both fail :)</p>
</aside></div><div id="deploy-04-lesson-learned.html" class="step"  data-x="12000" data-y="0" data-z="300" data-scale="1" data-rotate-x="0" data-rotate-y="270" data-rotate-z="0"><h2>Lesson learned</h2>
<p>Solve <u>existing</u> problems with the best tools.</p></div><div id="servicediscovery-01-intro" class="step"  data-x="0" data-y="1000" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>Overtime: Service discovery</h2>
<img src="./img/pass.gif" />
<p><a class="buttonSkip" href="#99-refs">skip overtime</a></p>
<aside class="notes">
    Amazing pass needs knowledge about were all other players are. There are different ways to achive that.
    <ul>
        <li>Look everywhere</li>
        <li>Train a lot - so you can pass without looking</li>
    </ul>
</aside></div><div id="servicediscovery-02-problem" class="step"  data-x="1000" data-y="1000" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>The problem</h2>
<img height="600px" src="./img/service-discovery-problem.png"/>

<aside class="notes">
    <img height="600px" src="./img/service-discovery-problem.png"/>
</aside></div><div id="servicediscovery-03-client-side-discovery" class="step"  data-x="2000" data-y="1000" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>The Client-Side Discovery Pattern</h2>
<img height="600px" src="./img/service-discovery-client-side.png" />

<aside class="notes">
    <img height="600px" src="./img/service-discovery-client-side.png" />
    <blockquote>
        <p>The client-side discovery pattern has a variety of benefits and drawbacks. This pattern is relatively straightforward
            and, except for the service registry, there are no other moving parts. Also, since the client knows about the
            available services instances, it can make intelligent, application-specific load-balancing decisions such as
            using hashing consistently. One significant drawback of this pattern is that it couples the client with the service
            registry. You must implement client-side service discovery logic for each programming language and framework
            used by your service clients.</p>
        <cite>https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/</cite>
    </blockquote>
</aside></div><div id="servicediscovery-04-server-side-discovery" class="step"  data-x="3000" data-y="1000" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>The Server-Side Discovery Pattern</h2>
<img height="600px" src="./img/service-discovery-server-side.png" />

<aside class="notes">
    <img height="600px" src="./img/service-discovery-server-side.png" />
    <blockquote>
        <p>The server-side discovery pattern has several benefits and drawbacks. One great benefit of this pattern is that details
            of discovery are abstracted away from the client. Clients simply make requests to the load balancer. This eliminates
            the need to implement discovery logic for each programming language and framework used by your service clients.
            Also, as mentioned above, some deployment environments provide this functionality for free. This pattern also
            has some drawbacks, however. Unless the load balancer is provided by the deployment environment, it is yet another
            highly available system component that you need to set up and manage.</p>
        <cite>https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/</cite>
    </blockquote>
</aside></div><div id="servicediscovery-05-tools" class="step"  data-x="4000" data-y="1000" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>The Service Registry</h2>
<ul>
    <li>Files++</li>
    <li>Simple database</li>
    <li>Netflix Eureka</li>
    <li>etcd</li>
    <li>Apache Zookeeper</li>
    <li>Consul</li>
</ul>

<aside class="notes">
    <ul>
        <li>Files - good as first step, but nothing more. Tokens+automatic deployment helps but it doesn't solve everything.
            It is a quite popular solution. For example included in RabbitMq, Cassandra as service discovery start. 
            Also my company use something like in retail banking.
        </li>
        <li>
            Variation of files. But provides single point of failure. Used in other part of my company. In the corporate banking.
        </li>
        <li>, Netflix Eureka is a good example of a service registry. It provides a REST API for registering and querying service
            instances. A service instance registers its network location using a POST request. Every 30 seconds it must refresh
            its registration using a PUT request. A registration is removed by either using an HTTP DELETE request or by
            the instance registration timing out. As you might expect, a client can retrieve the registered service instances
            by using an HTTP GET request.</li>
        <li><a target="_blank" href="https://github.com/coreos/etcd">etcd</a> – A highly available, distributed, consistent,
            key-value store that is used for shared configuration and service discovery. Two notable projects that use etcd
            are Kubernetes and <a target="_blank" href="http://pivotal.io/platform">Cloud&nbsp;Foundry</a>.</li>

        <li><a target="_blank" href="http://zookeeper.apache.org/">Apache&nbsp;Zookeeper</a> – A widely used, high-performance
            coordination service for distributed applications. Apache Zookeeper was originally a subproject of Hadoop but
            is now a top-level project.</li>
        <li><a target="_blank" href="https://www.consul.io/">consul</a> – A tool for discovering and configuring services. It
            provides an API that allows clients to register and discover services. Consul can perform health checks to determine
            service availability.</li>
    </ul>
</aside></div><div id="servicediscovery-06-consul" class="step"  data-x="5000" data-y="1000" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>Consul.io</h2>
<ul>
    <li>Service Discovery - REST &amp; DNS</li>
    <li>Failure Detection</li>
    <li>Key/Value Storage</li>
    <li>Multi-Datacenter / Multi-agent</li>
</ul>
<img src="./img/consul-mini-logo.png"/>
<aside class="notes">
   
</aside></div><div id="servicediscovery-07-lesson-learned" class="step"  data-x="6000" data-y="1000" data-z="0" data-scale="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0"><h2>Lesson learned</h2>
<p>Invite me in the future :)</p></div><div id="99-refs" class="step"  data-x="6000" data-y="6000" data-z="0" data-scale="1" data-rotate-x="90" data-rotate-y="90" data-rotate-z="0"><h2>Players: References</h2>

<ul class="longlist">
    <li>Service Discovery in a Microservices Architecture <a href="https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/">https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/</a></li>
    <li>DevOps for Finance - Jim Bird <a href="https://www.oreilly.com/ideas/devops-for-finance">https://www.oreilly.com/ideas/devops-for-finance</a></li>
    <li>Wikpedia <a href="https://en.wikipedia.org/wiki/Basketball">https://en.wikipedia.org/wiki/Basketball</a></li>
    <li>Why should I use version control? <a href="http://stackoverflow.com/questions/1408450/why-should-i-use-version-control">http://stackoverflow.com/questions/1408450/why-should-i-use-version-control</a></li>
    <li>Octopus Deploy vs. Puppet/Chef <a href="https://octopus.com/blog/octopus-vs-puppet-chef">https://octopus.com/blog/octopus-vs-puppet-chef</a></li>
    <li>Facebook made its Android app crash to test your loyalty<a href="http://www.theverge.com/2016/1/4/10708590/facebook-google-android-app-crash-tests">http://www.theverge.com/2016/1/4/10708590/facebook-google-android-app-crash-tests</a></li>
</ul></div><div id="99-end" class="step"  data-x="12000" data-y="12000" data-z="0" data-scale="1" data-rotate-x="90" data-rotate-y="270" data-rotate-z="270"><h2>Questions?</h2>

Few links:
<ul>
    <li>Blog: <a href="http://stapp.space/">http://stapp.space</a></li>
    <li>Twitter: <a href="https://twitter.com/ptrstpp950">@ptrstpp950</a></li>
    <li>Facebook: <a href="https://www.facebook.com/stapp.space">https://www.facebook.com/stapp.space</a></li>
    <li>Mail <a href="mailto:">piotr.stapp AT gmail.com</a></li>
    <li>Slides: <a href="http://stapp.space/speaking">http://stapp.space/speaking</a></li>
</ul></div>
  </div>
  <div style="position:absolute; bottom:10px; right:10px;" class="stapplogo">
    <img src="./img/stappspacelogo.png" />
  </div>
  
  <script src="scripts/site.js"></script>
<script>
    // First, get sorted slide list
    impress().init();
    impressConsole().init();
  
  </script>

</body>

</html>