<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Project.json made my life easier and it is not a joke" /><meta property="og:locale" content="en" /><meta name="description" content="Project.json is a celeb in .NET world. But its status is rather “famous for being famous”, instead of usefulness. Probably you heard some time ago that it will replace csproj and a few months later that it won’t. What is it still doing here? Only one word: dependencies." /><meta property="og:description" content="Project.json is a celeb in .NET world. But its status is rather “famous for being famous”, instead of usefulness. Probably you heard some time ago that it will replace csproj and a few months later that it won’t. What is it still doing here? Only one word: dependencies." /><link rel="canonical" href="/project-json-made-my-life-easier-and-it-is-not-a-joke/" /><meta property="og:url" content="/project-json-made-my-life-easier-and-it-is-not-a-joke/" /><meta property="og:site_name" content="Reset your code" /><meta property="og:image" content="/content/images/2016/10/magic-cube-cube-puzzle-play-54101.jpeg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2016-10-25T13:10:36+00:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="/content/images/2016/10/magic-cube-cube-puzzle-play-54101.jpeg" /><meta property="twitter:title" content="Project.json made my life easier and it is not a joke" /><meta name="twitter:site" content="@ptrstpp950" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-07-23T20:02:02+00:00","datePublished":"2016-10-25T13:10:36+00:00","description":"Project.json is a celeb in .NET world. But its status is rather “famous for being famous”, instead of usefulness. Probably you heard some time ago that it will replace csproj and a few months later that it won’t. What is it still doing here? Only one word: dependencies.","headline":"Project.json made my life easier and it is not a joke","image":"/content/images/2016/10/magic-cube-cube-puzzle-play-54101.jpeg","mainEntityOfPage":{"@type":"WebPage","@id":"/project-json-made-my-life-easier-and-it-is-not-a-joke/"},"url":"/project-json-made-my-life-easier-and-it-is-not-a-joke/"}</script><title>Project.json made my life easier and it is not a joke | Reset your code</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Reset your code"><meta name="application-name" content="Reset your code"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://pl.gravatar.com/userimage/48672464/c50835d7095c6bf97f05a434fa54cfca.jpg?size=256" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Reset your code</a></div><div class="site-subtitle font-italic">Stapp space :)</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ptrstpp950" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://www.linkedin.com/in/piotrstapp" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://twitter.com/ptrstpp950" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Project.json made my life easier and it is not a joke</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Project.json made my life easier and it is not a joke</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1477401036" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 25, 2016 </em> </span> <span> Updated <em class="" data-ts="1658606522" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 23, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/ptrstpp950">Piotr Stapp</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1324 words"> <em>7 min</em> read</span></div></div></div><div class="post-content"><p>Project.json is a celeb in .NET world. But its status is rather “famous for being famous”, instead of usefulness. Probably you heard some time ago that it will replace <code class="language-plaintext highlighter-rouge">csproj</code> and a few months later that it won’t. What is it still doing here? Only one word: dependencies.</p><h2 id="tldr"><span class="mr-2">TL;DR;</span><a href="#tldr" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The history of the package management in .NET world is long and rather turbulent. Getting always the latest version for many years was just impossible. If know NuGet history and structure, you can skip first few paragraphs up to <a href="#episode-iv-a-new-hope">Episode IV: A new hope</a>. The solution description starts there. I hope you will find it useful.</p><h2 id="where-are-we-from"><span class="mr-2">Where are we from?</span><a href="#where-are-we-from" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I don’t know anybody who hasn’t copied/included/committed external libraries into a project. Even today JavaScript libraries are frequently included in web projects. Well, in the beginning of this century it was a standard. One of the oldest package management system - Maven - was born on <a href="http://mail-archives.apache.org/mod_mbox/jakarta-alexandria-dev/200108.mbox/%3C20010827163505.53005.qmail@icarus.apache.org%3E">Mon, 27 Aug 2001 16:35:05 GMT</a>. .NET didn’t even exist then. The first version was released on <a href="https://en.wikipedia.org/wiki/.NET_Framework_version_history">2002-02-13</a>. That time, the most advanced dependency management on Windows platforms used shared folders. The solution above helps the developers sharing their work in the big teams.</p><h2 id="what-about-nuget"><span class="mr-2">What about NuGet?</span><a href="#what-about-nuget" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>NuPack was born on August 2010 as an open-source package manager for the Microsoft development platform. Did you notice the open source? It was hosted on <a href="http://nuget.codeplex.com/">CodePlex</a>.</p><p>But what is NuPack? Now it is NuGet. The name was changed on 21 October 2010. The funny thing is that the most people pronounce it like “nugget”. But according to <a href="http://haacked.com/archive/2010/10/29/nupack-is-now-nuget.aspx/">the authors</a> it should be pronounced slightly different:</p><blockquote><p>NuGet (pronounced “New Get” and not “Nugget” and not “Noojay” for you hoity-toity)</p></blockquote><p>As you probably know NuGet is a simple zip file with a defined structure. You can use for example 7zip to see the structure of any nupkg file. Below structure of <code class="language-plaintext highlighter-rouge">microsoft.aspnet.mvc.6.0.0-rc1-final.nupkg</code></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>lib/
lib/dotnet5.4/
lib/dotnet5.4/Microsoft.AspNet.Mvc.dll
lib/dotnet5.4/Microsoft.AspNet.Mvc.xml
lib/net451/
lib/net451/Microsoft.AspNet.Mvc.dll
lib/net451/Microsoft.AspNet.Mvc.xml
Microsoft.AspNet.Mvc.nuspec
[Content_Types].xml
_rels/
_rels/.rels
</pre></table></code></div></div><p>It is simple and clean. Even <code class="language-plaintext highlighter-rouge">nuspec</code> file is human readable. Just take a look:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;package xmlns="http://schemas.microsoft.com/packaging/2012/06/nuspec.xsd"&gt;
  &lt;metadata&gt;
    &lt;id&gt;Microsoft.AspNet.Mvc&lt;/id&gt;
    &lt;version&gt;6.0.0-rc1-final&lt;/version&gt;
    &lt;requireLicenseAcceptance&gt;true&lt;/requireLicenseAcceptance&gt;
    &lt;authors&gt;Microsoft&lt;/authors&gt;
    &lt;owners&gt;Microsoft&lt;/owners&gt;
    &lt;description&gt;ASP.NET MVC is a web framework that gives you a powerful, patterns-based way to build dynamic websites and Web APIs. ASP.NET MVC enables a clean separation of concerns and gives you full control over markup.&lt;/description&gt;
    &lt;dependencies&gt;
      &lt;group targetFramework=".NETFramework4.5.1"&gt;
        &lt;dependency id="Microsoft.AspNet.Mvc.ApiExplorer" version="6.0.0-rc1-final" /&gt;
&lt;!--a few more lines like above--&gt;
      &lt;/group&gt;
      &lt;group targetFramework=".NETPlatform5.4"&gt;
        &lt;dependency id="Microsoft.AspNet.Mvc.ApiExplorer" version="6.0.0-rc1-final" /&gt;
&lt;!--a few more lines like above--&gt;
      &lt;/group&gt;
    &lt;/dependencies&gt;
    &lt;frameworkAssemblies&gt;
      &lt;frameworkAssembly assemblyName="mscorlib" targetFramework=".NETFramework4.5.1" /&gt;
&lt;!--a few more lines like above--&gt;
    &lt;/frameworkAssemblies&gt;
    &lt;licenseUrl&gt;http://www.microsoft.com/web/webpi/eula/net_library_eula_enu.htm&lt;/licenseUrl&gt;
    &lt;iconUrl&gt;http://go.microsoft.com/fwlink/?LinkID=288859&lt;/iconUrl&gt;
    &lt;copyright&gt;Copyright © Microsoft Corporation&lt;/copyright&gt;
    &lt;projectUrl&gt;http://www.asp.net/&lt;/projectUrl&gt;
  &lt;/metadata&gt;
&lt;/package&gt;
</pre></table></code></div></div><p>Even the basic package definition inside a project is easy to understand. Simple XML file called <code class="language-plaintext highlighter-rouge">packages.config</code>. More or less like below:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;packages&gt;
  &lt;package id="Microsoft.AspNet.Mvc" version="5.2.3" targetFramework="net452" /&gt;
  &lt;!--a few more lines like above--&gt;
&lt;/packages&gt;
</pre></table></code></div></div><p>Nice, isn’t it?</p><h2 id="but-my-feelings-are-"><span class="mr-2">But my feelings are …</span><a href="#but-my-feelings-are-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><iframe src="//giphy.com/embed/26ufccrP68kianc0E" width="480" height="330" frameborder="0" class="giphy-embed" style="display: block;margin-left: auto;margin-right: auto;" allowfullscreen=""></iframe><p>Moreover, there are a lot of developers like you. With exactly the same feeling. For example <a href="https://twitter.com/gutek">Gutek</a> once upon a time posted on twitter:</p><p><img data-src="/content/images/2016/10/gutek.png" alt="" data-proofer-ignore></p><h2 id="where-is-the-problem"><span class="mr-2">Where is the problem?</span><a href="#where-is-the-problem" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Bear in mind that NuGet is simple, but it integrates with <code class="language-plaintext highlighter-rouge">csproj</code> file in ##@$@$ way. Just take a look inside this simple <code class="language-plaintext highlighter-rouge">csproj</code>:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre> &lt;ItemGroup&gt;
&lt;Reference Include="System.Web.Mvc, Version=5.2.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL"&gt;
      &lt;Private&gt;True&lt;/Private&gt;
      &lt;HintPath&gt;..\packages\Microsoft.AspNet.Mvc.5.2.3\lib\net45\System.Web.Mvc.dll&lt;/HintPath&gt;
    &lt;/Reference&gt;
</pre></table></code></div></div><p>Can you see this version string inside a path? That’s the main reason of our frustration. Just 6 chars: <code class="language-plaintext highlighter-rouge">.5.2.3</code>. Every package upgrade always changes these two files: <code class="language-plaintext highlighter-rouge">csproj</code> and <code class="language-plaintext highlighter-rouge">packages.config</code>. Moreover, there wasn’t a way to have always the LATEST version. We need to upgrade the packages every time. And this made an irritating GIT/TFS/SVN conflicts.</p><h2 id="how-to-run-nulatestget"><span class="mr-2">How to run NuLatestGet?</span><a href="#how-to-run-nulatestget" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>There aren’t many ways. One is to run it on a Continuous Integration tool. For example, TeamCity has built-in task just for this operation. You can read about it on <a href="https://blog.jetbrains.com/teamcity/2013/08/nuget-package-restore-with-teamcity/">their blog</a>. But still, we need to commit such changes.</p><p>In my company, we have been using <a href="https://github.com/FubuMvcArchive/ripple">ripple from the fubu team</a> for a few years. But this project died. Today the official web page even doesn’t exist. Only the GitHub repository linked above remained. Sad.</p><p>Another solution is to switch to <a href="https://fsprojects.github.io/Paket/">paket</a>. It was created for the F# guys, but it works nicely with C# projects, too. Good stuff.</p><p>Can you any disadvantage of above solution? I know only one. Developers have to use a console to restore project dependencies.</p><h2 id="episode-iv-a-new-hope"><span class="mr-2">Episode IV: A new hope</span><a href="#episode-iv-a-new-hope" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>When I read about project.json for the first time, I was excited. I crossed my fingers and even took a part in <a href="https://github.com/aspnet/dnx/issues/442">a discussion about versions string format</a>. Then project.json died, because of the tooling or something. But some part of it is still alive. Exactly NuGet part. Almost one year ago I even created a post about it: <a href="https://stapp.space/floating-versions-in-nuget-2/">Floating versions in Nuget</a>. But it wasn’t useful at that time. This has changed a few months ago. Exactly on 27 June 2016, when Visual Studio Update 3 was released. At first, I didn’t notice this fact, but it is working. After two months of using it, I’m just happy. It isn’t perfect, but it is good enough.</p><h2 id="there-can-be-only-one"><span class="mr-2">There can be only one</span><a href="#there-can-be-only-one" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The main difference is really simple. Instead of two entries about package dependency we have only one in <code class="language-plaintext highlighter-rouge">project.json</code>. In <code class="language-plaintext highlighter-rouge">csproj</code>, there is only an include of <code class="language-plaintext highlighter-rouge">project.json</code> file. All dependencies are in <code class="language-plaintext highlighter-rouge">project.json</code>. Much simpler, isn’t it?</p><h2 id="how-to-start"><span class="mr-2">How to start?</span><a href="#how-to-start" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>It’s simple. Just start a new or open an existing solution in Visual Studio. Add at least one NuGet package, but probably this was done by project template. Now check if you already have the Update 3. It has a few months already, but after all, it is better to be safe than sorry. To check it just open Help-&gt;About Microsoft Visual Studio.</p><p>Close Visual Studio and open csproj in your favorite text editor. Find all dependencies with <code class="language-plaintext highlighter-rouge">HintPath</code> set to <code class="language-plaintext highlighter-rouge">packages</code> folder and remove them. Like below:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>&lt;Reference Include="System.Web.Mvc, Version=5.2.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL"&gt;
      &lt;Private&gt;True&lt;/Private&gt;
      &lt;HintPath&gt;..\packages\Microsoft.AspNet.Mvc.5.2.3\lib\net45\System.Web.Mvc.dll&lt;/HintPath&gt;
    &lt;/Reference&gt;
</pre></table></code></div></div><p>Now step number two. Find below line:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>&lt;Content Include="packages.config" /&gt;
</pre></table></code></div></div><p>And replace <code class="language-plaintext highlighter-rouge">packages.config</code> with <code class="language-plaintext highlighter-rouge">project.json</code>. Create such file with below content. We need to specify the target frameworks. In my case .NET 4.6.1:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>{
  "frameworks": {
    "net461": { }
  },
  "runtimes": {
    "win": {} 
  }
}
</pre></table></code></div></div><p>Now we can add the dependencies manually by using one of the methods below:</p><ul><li>from <code class="language-plaintext highlighter-rouge">packages.config</code> extract strings like: <code class="language-plaintext highlighter-rouge">"Microsoft.AspNet.Mvc": "5.2.3"</code> - it’s a few find and replace commands<li>install all the needed packages from the Package Manager Console</ul><p>If you would like to use ==an automatic script==, just subscribe to my newsletter on the right. I will release it in a few days. Also, above tutorial will be released as GitHub repository.</p><h2 id="final-effect"><span class="mr-2">Final effect</span><a href="#final-effect" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>It’s simply working. Just press F5 in Visual Studio. In my case, after <code class="language-plaintext highlighter-rouge">nuget restore</code>, I can see following in the <code class="language-plaintext highlighter-rouge">Solution Explorer</code>:</p><p><img data-src="/content/images/2016/10/solutionExplorer.png" alt="" data-proofer-ignore></p><h2 id="problems"><span class="mr-2">Problems</span><a href="#problems" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The latest package still has a small feature. You can use it just with <code class="language-plaintext highlighter-rouge">*</code> as a version number, but in Visual Studio it will disappear. The second problem is described in the following article: <a href="https://blogs.msdn.microsoft.com/dotnet/2016/10/19/net-core-tooling-in-visual-studio-15/">.NET Core Tooling in Visual Studio “15” </a>. I don’t know how <code class="language-plaintext highlighter-rouge">project.json</code> will finish. But I hope the version strings will be working inside <code class="language-plaintext highlighter-rouge">csproj</code> too.</p><h2 id="sum-up"><span class="mr-2">Sum up</span><a href="#sum-up" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>A very short sum up:</p><ul><li>Correct NuGet pronunciation is “New Get”, not “nugget” or …<li>From Visual Studio Update 3, we can get latest NuGet package with <code class="language-plaintext highlighter-rouge">project.json</code><li>It integrates well with Visual Studio and MsBuild. We don’t need additional step in console.<li>==Subscribe my newsletter to receive an info about automatic conversion tool==. I will publish it in a week or two.</ul></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/visual-studio/" class="post-tag no-text-decoration" >visual-studio</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Project.json+made+my+life+easier+and+it+is+not+a+joke+-+Reset+your+code&url=%2Fproject-json-made-my-life-easier-and-it-is-not-a-joke%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Project.json+made+my+life+easier+and+it+is+not+a+joke+-+Reset+your+code&u=%2Fproject-json-made-my-life-easier-and-it-is-not-a-joke%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fproject-json-made-my-life-easier-and-it-is-not-a-joke%2F&text=Project.json+made+my+life+easier+and+it+is+not+a+joke+-+Reset+your+code" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/ACA-missing-yaml/">Exploring Azure Container Apps (ACA) and the Missing YAML Functionality</a><li><a href="/geting-secrets-from-github-actions/">6 steps to pimp my terminal</a><li><a href="/speaking/">Speaking</a><li><a href="/project-json-made-my-life-easier-and-it-is-not-a-joke/">Project.json made my life easier and it is not a joke</a><li><a href="/piotr-stapp-in-2016/">Piotr Stapp in 2016</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/code/">code</a> <a class="post-tag" href="/tags/azure/">azure</a> <a class="post-tag" href="/tags/visual-studio/">visual-studio</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/dotnet/">dotnet</a> <a class="post-tag" href="/tags/speaker/">speaker</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/powershell/">powershell</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/null-pointer-exceptions-and-warnings/"><div class="card-body"> <em class="small" data-ts="1445410740" data-df="ll" > Oct 21, 2015 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Null pointer exceptions and warnings</h3><div class="text-muted small"><p> Simple code I am developer so let’s start with following C# code: public static void Main() { var sampleList = GetSamples(); if (sampleList.FirstOrDefault().StartsWith(&quot;I&quot;)...</p></div></div></a></div><div class="card"> <a href="/reattach-visual-studio/"><div class="card-body"> <em class="small" data-ts="1453385220" data-df="ll" > Jan 21, 2016 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ReAttach - how to easily (re)attach the debugger in Visual Studio</h3><div class="text-muted small"><p> In more complicated projects, simple F5 doesn’t compile&amp;amp;debug. In cases where you’re working with IIS (w3wp process), we need to attach the debugger manually. Attaching debugger The simple gif...</p></div></div></a></div><div class="card"> <a href="/top-news-from-build-2016/"><div class="card-body"> <em class="small" data-ts="1459704060" data-df="ll" > Apr 3, 2016 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Top news from Build 2016 - my private ranking</h3><div class="text-muted small"><p> Build 2016 just ended. I wasn’t lucky to watch it live. Fortunately live streaming, twitter, and news were available. There were a lot of sessions and news. I decided to present my favorites. Bash...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/dont-send-this-email/" class="btn btn-outline-primary" prompt="Older"><p>Don't send THIS email</p></a> <a href="/share-post-on-facebook-gives-404/" class="btn btn-outline-primary" prompt="Newer"><p>Share post on Facebook gives 404</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/ptrstpp950">Piotr Stapp</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/code/">code</a> <a class="post-tag" href="/tags/azure/">azure</a> <a class="post-tag" href="/tags/visual-studio/">visual-studio</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/dotnet/">dotnet</a> <a class="post-tag" href="/tags/speaker/">speaker</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/powershell/">powershell</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-53928517-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-53928517-1'); }); </script>
